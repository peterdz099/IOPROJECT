
<Check@MDCheckbox>:
    group: 'group1'
    size_hint: None, None
    size: dp(35), dp(35)

<check_sort@MDCheckbox>:
    group: 'group12'
    size_hint: None, None
    size: dp(35), dp(35)

<WithoutLoginWindow>:
    name: "without"

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'screen 1'
            text: "Search"
            icon: 'magnify'

            MDFloatLayout:
                ScreenManager:
                    id: screen_manager
                    Screen:
                        name: "screeen1"
                        canvas:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        MDLabel:
                            id : message
                            text: "Find your dream toy!"
                            font_size: 14
                            halign: 'center'
                            pos_hint:{"x": 0,"y": 0.3}

                        Image:
                            source: 'resources/big ball.png'
                            size_hint: 1,1
                            pos_hint:{"x": -0.3,"y":-0.05}
                        Image:
                            source: 'resources/big ball.png'
                            size_hint: 1,1
                            pos_hint:{"x": 0.4,"y":0.4}
                        Image:
                            source: 'resources/big ball.png'
                            size_hint: 1,1
                            pos_hint:{"x": 0.4,"y": -0.4}

                        Check:
                            active: True
                            pos_hint: {'center_x': .8, 'center_y': .52}

                        MDLabel:
                            text: "Every store"
                            font_size: 16
                            halign: 'left'
                            pos_hint:{"x": 0.18,'center_y': .52}

                        Check:
                            pos_hint: {'center_x': .8, 'center_y': .47}
                            on_active: root.change_mode(1)
                        MDLabel:
                            text: "Only Allegro"
                            font_size: 16
                            halign: 'left'
                            pos_hint:{"x": 0.18,'center_y': .47}

                        Check:
                            pos_hint: {'center_x': .8, 'center_y': .42}
                            on_active: root.change_mode(2)
                        MDLabel:
                            text: "Every store except Allegro"
                            font_size: 16
                            halign: 'left'
                            pos_hint:{"x": 0.18,'center_y': .42}

                        check_sort:
                            active: True
                            pos_hint: {'center_x': .8, 'center_y': .32}
                            on_release: root.change_sort_mode(False)

                        MDLabel:
                            text: "Sort by price"
                            font_size: 16
                            halign: 'left'
                            pos_hint:{"x": 0.18,'center_y': .32}

                        check_sort:
                            pos_hint: {'center_x': .8, 'center_y': .27}
                            on_active: root.change_sort_mode(True)

                        MDLabel:
                            text: "Sort by shop number"
                            font_size: 16
                            halign: 'left'
                            pos_hint:{"x": 0.18,'center_y': .27}
                        MDTextField:
                            id: find
                            halign: "center"
                            valign: "center"
                            mode: "rectangle"
                            bg_color: 0,0,0,1
                            multiline: False
                            size_hint: 0.7, 0.12
                            pos_hint:{"x": 0.15,"y": 0.6}

                        MDFillRoundFlatButton:
                            text: "Search"
                            font_size: 16
                            size_hint: 0.6, 0.10
                            pos_hint:{"x":0.2,"y":0.10}
                            md_bg_color: "#2c4591"
                            on_release:
                                screen_manager.transition.direction = "down"
                                root.search()

                        Button:
                            text: "Back to Login"
                            underline: True
                            font_size: 13
                            size_hint: 0.6, 0.10
                            pos_hint:{"x":0.2,"y":0.02}
                            background_color: (133/255,225/255,189/255,0)
                            color: (92/255, 94/255, 94/255,1)
                            on_release:
                                root.manager.current = "login"
                                root.manager.transition.direction = "right"

                    Screen:
                        name: "screeen2"
                        MDTextField:
                            id: set
                            disabled: True
                            multiline : False
                            halign: "center"
                            valign: "center"
                            mode: "rectangle"
                            bg_color: 0,0,0,1
                            multiline: False
                            size_hint: 0.7, 0.12
                            pos_hint:{"x": 0.15,"y": 0.85}

                        MDCard:
                            md_bg_color: 1,1,1,1
                            orientation: "vertical"
                            padding: "8dp"
                            size_hint: 0.8, 0.8
                            pos_hint: {"center_x": 0.5, "center_y": 0.43}

                            ScrollView:
                                MDList:
                                    id: scroll

                        MDIconButton:
                            icon: "arrow-down-thick"
                            icon_color: (1,1,1,1)
                            pos_hint:{"x":0.80,"y":0.04}
                            icon_size: "35sp"
                            md_bg_color: "#2c4591"
                            on_release:
                                root.clear()
                                #screen_manager.current = 'screeen1'
                                screen_manager.transition.direction = "up"

                    Screen:
                        name: "screeen3"
                        canvas:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        FloatLayout:
                            MDCard:
                                size_hint: 0.9, 0.2
                                pos_hint: {"center_x": 0.5, "center_y": 0.8}

                                AsyncImage:
                                    id: img
                                    allow_stretch: True


                            MDTextField:
                                id: details

                                dirselect:True
                                text_color: 0,0,0,1
                                font_size: 12
                                mode: "rectangle"
                                halign: "center"
                                valign: 'middle'
                                multiline: True
                                size_hint: 0.7, 0.45
                                pos_hint:{"center_x": 0.5, "center_y": 0.45}

                            MDFillRoundFlatButton:
                                text: "Go to website"
                                text_color: 1,1,1,1
                                md_bg_color: "#2c4591"
                                #background_normal
                                size_hint: 0.3, 0.1
                                pos_hint:{"center_x": 0.5, "center_y": 0.15}
                                on_release: root.go_to_web()


                            Button:
                                text: "Back to findings"
                                underline: True
                                font_size: 13
                                size_hint: 0.6, 0.10
                                pos_hint:{"center_x": 0.5,"center_y": 0.06}
                                background_color: (133/255,225/255,189/255,0)
                                color: (92/255, 94/255, 94/255,1)
                                on_release:
                                    screen_manager.current = "screeen2"
                                    root.clear_details()
                                    screen_manager.transition.direction = "up"
